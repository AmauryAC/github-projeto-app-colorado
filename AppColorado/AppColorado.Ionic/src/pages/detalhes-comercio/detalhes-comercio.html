<!--
  Generated template for the DetalhesComercioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Detalhes</ion-title>
  </ion-navbar>

  <ion-toolbar no-border-top>
    <ion-segment [(ngModel)]="segment">
      <ion-segment-button value="informacoes">
        Informações
      </ion-segment-button>
      <ion-segment-button value="produtos">
        Produtos
      </ion-segment-button>
      <ion-segment-button value="avaliacoes">
        Avaliações
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>


<ion-content padding>

  <div [ngSwitch]="segment">
    <div *ngSwitchCase="'informacoes'">
      <ion-card>
        <img src="https://static.cbncuritiba.com/cbn/wp-content/uploads/2019/05/comc3a9rcio-foto-aen-2-696x464.jpg"/>
        <ion-card-content>
          <ion-card-title>
            {{ comercio.nome }}
          </ion-card-title>
          <span>(4.5 Estrelas)</span>
          <p>
            {{ comercio.descricao }}
          </p>
        </ion-card-content>
      </ion-card>
      <ion-item-group *ngIf="comercio.estabFixo==false || comercio.estabFixo=='false'">
        <ion-item-divider color="light">Área de Atuação</ion-item-divider>
        <ion-item text-wrap>{{ comercio.areaAtuacao }}</ion-item>
      </ion-item-group>
      <ion-item-group *ngIf="comercio.estabFixo==true || comercio.estabFixo=='true'">
        <ion-item-divider color="light">Endereço</ion-item-divider>
        <ion-item text-wrap>{{ comercio.endereco.logradouro }}, nº{{ comercio.endereco.numero }}</ion-item>
        <ion-item text-wrap *ngIf="comercio.endereco.complemento">{{ comercio.endereco.complemento }}</ion-item>
        <ion-item text-wrap>{{ comercio.endereco.bairro }} - {{ comercio.endereco.cidade }}/{{ comercio.endereco.uf }}</ion-item>
      </ion-item-group>
      <ion-item-group>
        <ion-item-divider color="light">Contatos</ion-item-divider>
        <ion-list lines>
          <ion-item *ngFor="let item of comercio.contatos" text-wrap (click)="showPrompt(item)">
            <ion-icon name="call" item-left *ngIf="item.tipo=='Telefone Fixo'"></ion-icon>
            <ion-icon name="phone-portrait" item-left *ngIf="item.tipo=='Telefone Celular'"></ion-icon>
            <ion-icon name="globe" item-left *ngIf="item.tipo=='Website'"></ion-icon>
            {{ item.tipo }}
            <ion-note item-end>
              {{ item.contato }}
            </ion-note>
          </ion-item>
        </ion-list>
      </ion-item-group>
      <ion-item-group *ngIf="comercio.horarioFunc.length!=0">
        <ion-item-divider color="light">Horário de Funcionamento</ion-item-divider>
        <ion-list lines>
          <ion-grid>
            <ion-row class="titulo">
              <ion-col col-2>
                Dia Semana
              </ion-col>
              <ion-col col-4>
                Abre às:
              </ion-col>
              <ion-col col-4>
                Fecha às:
              </ion-col>
              <ion-col col-2>
                Fechado?
              </ion-col>
            </ion-row>
            <ion-row *ngFor="let item of comercio.horarioFunc">
              <ion-col col-2>
                <!-- <ion-item> -->
                  <ion-label text-wrap>{{ item.diaSemana }}</ion-label>
                <!-- </ion-item> -->
              </ion-col>
              <ion-col col-4>
                <ion-item>
                  <ion-datetime [disabled]="true" displayFormat="HH:mm" pickerFormat="HH:mm" [(ngModel)]="item.horarioAbertura"></ion-datetime>
                </ion-item>
              </ion-col>
              <ion-col col-4>
                <ion-item>
                  <ion-datetime [disabled]="true" displayFormat="HH:mm" pickerFormat="HH:mm" [(ngModel)]="item.horarioFechamento"></ion-datetime>
                </ion-item>
              </ion-col>
              <ion-col col-2>
                <ion-item>
                  <ion-checkbox [disabled]="true" checked={{item.fechado}} [(ngModel)]="item.fechado" (ionChange)="limparHorarioFechado(item)"></ion-checkbox>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-list>
      </ion-item-group>
    </div>
  </div>

</ion-content>
